!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tmrb:function(n,i,o){"use strict";o.r(i),o.d(i,"Tab1PageModule",(function(){return P}));var r,c=o("TEn/"),a=o("ofXK"),s=o("3Pt+"),l=o("tyNb"),b=o("mrSG"),u=o("cp0P"),d=o("fXoL"),f=o("tk/3"),p=((r=function(){function n(t){var i=this;e(this,n),this.http=t,this.baseUrl="",this.http.get("/assets/endpoint.json").toPromise().then((function(e){i.baseUrl=e.endpoint}))}return t(n,[{key:"test",value:function(){return this.http.get("/assets/endpoint.json").toPromise()}},{key:"upload",value:function(e){var n=new FormData,t=new f.c;t=t.append("userId","testUser1"),n.append("file",e);var i=new f.d("POST",this.baseUrl+"/idp/upload",n,{reportProgress:!0,responseType:"json",params:t});return this.http.request(i)}},{key:"process",value:function(){var e=new f.c;e=e.append("userId","testUser1");var n=new f.d("GET",this.baseUrl+"/idp/processFiles",{responseType:"json",params:e});return this.http.request(n).toPromise()}}]),n}()).\u0275fac=function(e){return new(e||r)(d.Ob(f.a))},r.\u0275prov=d.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=o("l3Ae");function m(e,n){1&e&&(d.Kb(0,"ion-content",5),d.Ib(1,"img",6),d.Jb())}function g(e,n){if(1&e){var t=d.Lb();d.Kb(0,"ion-grid",7),d.Kb(1,"ion-row"),d.Kb(2,"input",8),d.Sb("change",(function(e){return d.bc(t),d.Ub().onFileUpload(e)})),d.Jb(),d.Kb(3,"ion-col",9),d.Kb(4,"label",10),d.Ib(5,"ion-icon",11),d.Jb(),d.Kb(6,"ion-text"),d.Kb(7,"div"),d.fc(8,"Open Camera"),d.Jb(),d.Jb(),d.Jb(),d.Kb(9,"ion-col",12),d.Kb(10,"label",10),d.Ib(11,"ion-icon",13),d.Jb(),d.Kb(12,"div"),d.fc(13,"Open Gallery"),d.Jb(),d.Jb(),d.Kb(14,"ion-col",14),d.Kb(15,"label",10),d.Ib(16,"ion-icon",15),d.Jb(),d.Kb(17,"div"),d.fc(18,"Open Files"),d.Jb(),d.Jb(),d.Jb(),d.Jb()}}function v(e,n){if(1&e){var t=d.Lb();d.Kb(0,"ion-col",9),d.Ib(1,"ion-icon",22),d.Kb(2,"ion-icon",23),d.Sb("click",(function(){d.bc(t);var e=n.index;return d.Ub(2).deleteFile(e)})),d.Jb(),d.Kb(3,"ion-text"),d.Kb(4,"div"),d.fc(5),d.Jb(),d.Jb(),d.Jb()}if(2&e){var i=n.$implicit;d.xb(5),d.gc(i.name)}}function J(e,n){1&e&&(d.Kb(0,"span"),d.fc(1,"s"),d.Jb())}function K(e,n){if(1&e){var t=d.Lb();d.Kb(0,"div"),d.Kb(1,"ion-grid",7),d.Kb(2,"ion-row"),d.ec(3,v,6,1,"ion-col",16),d.Kb(4,"ion-col",17),d.Kb(5,"input",8),d.Sb("change",(function(e){return d.bc(t),d.Ub().onFileUpload(e)})),d.Jb(),d.Kb(6,"label",10),d.Ib(7,"ion-icon",18),d.Jb(),d.Kb(8,"div"),d.fc(9,"Add More Documents"),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(10,"ion-card",1),d.Kb(11,"ion-card-header"),d.Kb(12,"ion-card-subtitle"),d.fc(13,"Before you submit"),d.Jb(),d.Kb(14,"ion-card-title"),d.fc(15,"Disclaimer"),d.Jb(),d.Ib(16,"ion-icon",19),d.Jb(),d.Kb(17,"ion-card-content"),d.Kb(18,"div"),d.fc(19,"1. You are accepting to our "),d.Kb(20,"strong"),d.Kb(21,"a"),d.fc(22,"Terms and Conditions"),d.Jb(),d.Jb(),d.fc(23," and our "),d.Kb(24,"strong"),d.Kb(25,"a"),d.fc(26,"Privacy Policy"),d.Jb(),d.Jb(),d.Jb(),d.Kb(27,"div",20),d.fc(28,"2. You are permitting the Bank to store the digitised version of the documents"),d.Jb(),d.Jb(),d.Jb(),d.Kb(29,"ion-button",21),d.Sb("click",(function(e){return d.bc(t),d.Ub().uploadFileClickEvent(e)})),d.fc(30),d.ec(31,J,2,0,"span",4),d.Jb(),d.Jb()}if(2&e){var i=d.Ub();d.xb(3),d.Zb("ngForOf",i.selectedFile),d.xb(27),d.hc("Submit ",i.selectedFile.length," Document"),d.xb(1),d.Zb("ngIf",i.selectedFile.length>1)}}var F,y,x,C=[{path:"",component:(F=function(){function n(t,i,o,r){e(this,n),this.uploadService=t,this.alertController=i,this.router=o,this.customerSvc=r,this.selectedFile=[],this.isLoading=!1}return t(n,[{key:"onFileUpload",value:function(e){if(e&&e.target&&e.target.files&&e.target.files.length>0){this.fileList=e.target.files;for(var n=e.target.files,t=0;t<n.length;t++)null!=this.selectedFile&&this.selectedFile.length>0&&this.isFileFoundInArray(this.selectedFile,n[t])?this.duplicateFileUploadAlert():this.selectedFile.push(n[t])}}},{key:"isFileFoundInArray",value:function(e,n){return-1!=e.findIndex((function(e){return e.name==n.name}))}},{key:"duplicateFileUploadAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"custom-alert",mode:"ios",header:"Duplicate File Found",message:"You have tried to upload duplicate file. We will remove the duplicate files.",buttons:[{text:"Dismiss"}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"uploadFileConfirmation",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"custom-alert",mode:"ios",header:"Confirm Submit",message:"Are you sure to submit the documents?",buttons:[{text:"Cancel",handler:function(){n.dismiss()}},{text:"Ok",handler:function(){t.uploadFilesToServer()}}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"uploadFileClickEvent",value:function(e){this.uploadFileConfirmation()}},{key:"uploadFilesToServer",value:function(){var e=this;this.isLoading=!0;for(var n=[],t=0;t<this.selectedFile.length;t++)n[t]=this.uploadService.upload(this.selectedFile[t]);Object(u.a)(n).subscribe((function(n){if(n&&n.length>0){var t=n.filter((function(e){return"OK"===e.statusText&&e.body.message.includes("Uploaded the file successfully")}));t&&t.length>0?(e.uploadService.process().then((function(n){n&&(e.customerSvc.showInboxBadge=!0,e.customerSvc.customer=n.body),e.isLoading=!1})),e.router.navigate(["app/tabs/tab2"])):e.isLoading=!1}}),(function(n){e.isLoading=!1,console.log(n)}))}},{key:"deleteFile",value:function(e){-1!==e&&this.selectedFile.splice(e,1)}}]),n}(),F.\u0275fac=function(e){return new(e||F)(d.Hb(p),d.Hb(c.a),d.Hb(l.g),d.Hb(h.a))},F.\u0275cmp=d.Bb({type:F,selectors:[["app-tab1"]],decls:30,vars:3,consts:[["class","loader",4,"ngIf"],[1,"info-card"],["name","information-circle-outline",1,"info-icon"],["class","file-selector",4,"ngIf"],[4,"ngIf"],[1,"loader"],["src","../../assets/images/loader.gif",1,"loaderImage"],[1,"file-selector"],["type","file","id","uploadFile","accept","image/*","multiple","multiple",1,"hidden",3,"change"],[1,"camera"],["for","uploadFile"],["name","camera"],[1,"image"],["name","image"],[1,"folder"],["name","folder"],["class","camera",4,"ngFor","ngForOf"],[1,"add-more-icon"],["name","add-circle-outline"],["name","information-circle-outline",1,"info-icon","dark-red-text"],[1,"dark-red-text"],["expand","block","color","secondary",3,"click"],["name","document-text-outline",1,"file-icon"],["name","close-circle-outline",1,"delete-icon",3,"click"]],template:function(e,n){1&e&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-title"),d.fc(3,"Create Account"),d.Jb(),d.Jb(),d.Jb(),d.ec(4,m,2,0,"ion-content",0),d.Kb(5,"ion-content"),d.Kb(6,"ion-card",1),d.Kb(7,"ion-card-header"),d.Kb(8,"ion-card-title"),d.fc(9,"KYC Documents"),d.Jb(),d.Kb(10,"ion-card-subtitle"),d.fc(11,"Submit Your Govt. IDs"),d.Jb(),d.Ib(12,"ion-icon",2),d.Jb(),d.Kb(13,"ion-card-content"),d.Kb(14,"div"),d.fc(15,"Individuals (Documents acceptable as proof of identity/address)"),d.Jb(),d.Kb(16,"div"),d.fc(17,"\u2022 Voter's Identity Card "),d.Jb(),d.Kb(18,"div"),d.fc(19,"\u2022 Driving Licence "),d.Jb(),d.Kb(20,"div"),d.fc(21,"\u2022 Aadhaar Card "),d.Jb(),d.Kb(22,"div"),d.fc(23,"\u2022 PAN Card "),d.Jb(),d.Kb(24,"div"),d.fc(25,"* Supported documents: PDF, JPG, PNG"),d.Jb(),d.Kb(26,"div"),d.fc(27,"* Please upload a passport sized photo"),d.Jb(),d.Jb(),d.Jb(),d.ec(28,g,19,0,"ion-grid",3),d.ec(29,K,32,3,"div",4),d.Jb()),2&e&&(d.xb(4),d.Zb("ngIf",n.isLoading),d.xb(24),d.Zb("ngIf",null==n.selectedFile||0==n.selectedFile.length),d.xb(1),d.Zb("ngIf",(null==n.selectedFile?null:n.selectedFile.length)>0))},directives:[c.m,c.w,c.v,a.j,c.k,c.e,c.g,c.i,c.h,c.n,c.f,c.l,c.q,c.j,c.u,a.i,c.d],styles:[".hidden[_ngcontent-%COMP%]{display:none}ion-col[_ngcontent-%COMP%]{text-align:center;font-size:40px}ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.delete-icon[_ngcontent-%COMP%]{font-size:20px;position:absolute;margin-left:-10px;top:0;color:#8b0000}.add-more-icon[_ngcontent-%COMP%], .file-icon[_ngcontent-%COMP%]{font-size:50px}ion-title[_ngcontent-%COMP%]{font-family:SFProMedium}.file-selector[_ngcontent-%COMP%]{color:#0033a1}.loader[_ngcontent-%COMP%]{position:absolute;z-index:999;--ion-background-color:transparent}.loaderImage[_ngcontent-%COMP%]{position:relative;top:35%}"]}),F)}],k=((x=function n(){e(this,n)}).\u0275mod=d.Fb({type:x}),x.\u0275inj=d.Eb({factory:function(e){return new(e||x)},imports:[[l.i.forChild(C)],l.i]}),x),P=((y=function n(){e(this,n)}).\u0275mod=d.Fb({type:y}),y.\u0275inj=d.Eb({factory:function(e){return new(e||y)},imports:[[c.x,a.b,s.a,k]]}),y)}}])}();