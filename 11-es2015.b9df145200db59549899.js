(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tmrb:function(e,t,i){"use strict";i.r(t),i.d(t,"Tab1PageModule",(function(){return v}));var n=i("TEn/"),o=i("ofXK"),s=i("3Pt+"),c=i("tyNb"),l=i("mrSG"),r=i("cp0P"),a=i("fXoL"),b=i("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.baseUrl="",this.http.get("/assets/endpoint.json").toPromise().then(e=>{this.baseUrl=e.endpoint})}test(){return this.http.get("/assets/endpoint.json").toPromise()}upload(e){const t=new FormData;let i=new b.c;i=i.append("userId","testUser1"),t.append("file",e);const n=new b.d("POST",this.baseUrl+"/idp/upload",t,{reportProgress:!0,responseType:"json",params:i});return this.http.request(n)}process(){let e=new b.c;e=e.append("userId","testUser1");const t=new b.d("GET",this.baseUrl+"/idp/processFiles",{responseType:"json",params:e});return this.http.request(t).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(b.a))},e.\u0275prov=a.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i("l3Ae");function p(e,t){1&e&&(a.Kb(0,"ion-content",5),a.Ib(1,"img",6),a.Jb())}function f(e,t){if(1&e){const e=a.Lb();a.Kb(0,"ion-grid",7),a.Kb(1,"ion-row"),a.Kb(2,"input",8),a.Sb("change",(function(t){return a.bc(e),a.Ub().onFileUpload(t)})),a.Jb(),a.Kb(3,"ion-col",9),a.Kb(4,"label",10),a.Ib(5,"ion-icon",11),a.Jb(),a.Kb(6,"ion-text"),a.Kb(7,"div"),a.fc(8,"Open Camera"),a.Jb(),a.Jb(),a.Jb(),a.Kb(9,"ion-col",12),a.Kb(10,"label",10),a.Ib(11,"ion-icon",13),a.Jb(),a.Kb(12,"div"),a.fc(13,"Open Gallery"),a.Jb(),a.Jb(),a.Kb(14,"ion-col",14),a.Kb(15,"label",10),a.Ib(16,"ion-icon",15),a.Jb(),a.Kb(17,"div"),a.fc(18,"Open Files"),a.Jb(),a.Jb(),a.Jb(),a.Jb()}}function h(e,t){if(1&e){const e=a.Lb();a.Kb(0,"ion-col",9),a.Ib(1,"ion-icon",22),a.Kb(2,"ion-icon",23),a.Sb("click",(function(){a.bc(e);const i=t.index;return a.Ub(2).deleteFile(i)})),a.Jb(),a.Kb(3,"ion-text"),a.Kb(4,"div"),a.fc(5),a.Jb(),a.Jb(),a.Jb()}if(2&e){const e=t.$implicit;a.xb(5),a.gc(e.name)}}function m(e,t){1&e&&(a.Kb(0,"span"),a.fc(1,"s"),a.Jb())}function g(e,t){if(1&e){const e=a.Lb();a.Kb(0,"div"),a.Kb(1,"ion-grid",7),a.Kb(2,"ion-row"),a.ec(3,h,6,1,"ion-col",16),a.Kb(4,"ion-col",17),a.Kb(5,"input",8),a.Sb("change",(function(t){return a.bc(e),a.Ub().onFileUpload(t)})),a.Jb(),a.Kb(6,"label",10),a.Ib(7,"ion-icon",18),a.Jb(),a.Kb(8,"div"),a.fc(9,"Add More Documents"),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Kb(10,"ion-card",1),a.Kb(11,"ion-card-header"),a.Kb(12,"ion-card-subtitle"),a.fc(13,"Before you submit"),a.Jb(),a.Kb(14,"ion-card-title"),a.fc(15,"Disclaimer"),a.Jb(),a.Ib(16,"ion-icon",19),a.Jb(),a.Kb(17,"ion-card-content"),a.Kb(18,"div"),a.fc(19,"1. You are accepting to our "),a.Kb(20,"strong"),a.Kb(21,"a"),a.fc(22,"Terms and Conditions"),a.Jb(),a.Jb(),a.fc(23," and our "),a.Kb(24,"strong"),a.Kb(25,"a"),a.fc(26,"Privacy Policy"),a.Jb(),a.Jb(),a.Jb(),a.Kb(27,"div",20),a.fc(28,"2. You are permitting the Bank to store the digitised version of the documents"),a.Jb(),a.Jb(),a.Jb(),a.Kb(29,"ion-button",21),a.Sb("click",(function(t){return a.bc(e),a.Ub().uploadFileClickEvent(t)})),a.fc(30),a.ec(31,m,2,0,"span",4),a.Jb(),a.Jb()}if(2&e){const e=a.Ub();a.xb(3),a.Zb("ngForOf",e.selectedFile),a.xb(27),a.hc("Submit ",e.selectedFile.length," Document"),a.xb(1),a.Zb("ngIf",e.selectedFile.length>1)}}const J=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.uploadService=e,this.alertController=t,this.router=i,this.customerSvc=n,this.selectedFile=[],this.isLoading=!1}onFileUpload(e){if(e&&e.target&&e.target.files&&e.target.files.length>0){this.fileList=e.target.files;let t=e.target.files;for(let e=0;e<t.length;e++)null!=this.selectedFile&&this.selectedFile.length>0&&this.isFileFoundInArray(this.selectedFile,t[e])?this.duplicateFileUploadAlert():this.selectedFile.push(t[e])}}isFileFoundInArray(e,t){return-1!=e.findIndex(e=>e.name==t.name)}duplicateFileUploadAlert(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"custom-alert",mode:"ios",header:"Duplicate File Found",message:"You have tried to upload duplicate file. We will remove the duplicate files.",buttons:[{text:"Dismiss"}]});yield e.present()}))}uploadFileConfirmation(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"custom-alert",mode:"ios",header:"Confirm Submit",message:"Are you sure to submit the documents?",buttons:[{text:"Cancel",handler:()=>{e.dismiss()}},{text:"Ok",handler:()=>{this.uploadFilesToServer()}}]});yield e.present()}))}uploadFileClickEvent(e){this.uploadFileConfirmation()}uploadFilesToServer(){this.isLoading=!0;const e=[];for(var t=0;t<this.selectedFile.length;t++)e[t]=this.uploadService.upload(this.selectedFile[t]);Object(r.a)(e).subscribe(e=>{if(e&&e.length>0){const t=e.filter(e=>"OK"===e.statusText&&e.body.message.includes("Uploaded the file successfully"));t&&t.length>0?(this.uploadService.process().then(e=>{e&&(this.customerSvc.showInboxBadge=!0,this.customerSvc.customer=e.body),this.isLoading=!1}),this.router.navigate(["app/tabs/tab2"])):this.isLoading=!1}},e=>{this.isLoading=!1,console.log(e)})}deleteFile(e){-1!==e&&this.selectedFile.splice(e,1)}}return e.\u0275fac=function(t){return new(t||e)(a.Hb(d),a.Hb(n.a),a.Hb(c.g),a.Hb(u.a))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-tab1"]],decls:30,vars:3,consts:[["class","loader",4,"ngIf"],[1,"info-card"],["name","information-circle-outline",1,"info-icon"],["class","file-selector",4,"ngIf"],[4,"ngIf"],[1,"loader"],["src","../../assets/images/loader.gif",1,"loaderImage"],[1,"file-selector"],["type","file","id","uploadFile","accept","image/*","multiple","multiple",1,"hidden",3,"change"],[1,"camera"],["for","uploadFile"],["name","camera"],[1,"image"],["name","image"],[1,"folder"],["name","folder"],["class","camera",4,"ngFor","ngForOf"],[1,"add-more-icon"],["name","add-circle-outline"],["name","information-circle-outline",1,"info-icon","dark-red-text"],[1,"dark-red-text"],["expand","block","color","secondary",3,"click"],["name","document-text-outline",1,"file-icon"],["name","close-circle-outline",1,"delete-icon",3,"click"]],template:function(e,t){1&e&&(a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar"),a.Kb(2,"ion-title"),a.fc(3,"Create Account"),a.Jb(),a.Jb(),a.Jb(),a.ec(4,p,2,0,"ion-content",0),a.Kb(5,"ion-content"),a.Kb(6,"ion-card",1),a.Kb(7,"ion-card-header"),a.Kb(8,"ion-card-title"),a.fc(9,"KYC Documents"),a.Jb(),a.Kb(10,"ion-card-subtitle"),a.fc(11,"Submit Your Govt. IDs"),a.Jb(),a.Ib(12,"ion-icon",2),a.Jb(),a.Kb(13,"ion-card-content"),a.Kb(14,"div"),a.fc(15,"Individuals (Documents acceptable as proof of identity/address)"),a.Jb(),a.Kb(16,"div"),a.fc(17,"\u2022 Voter's Identity Card "),a.Jb(),a.Kb(18,"div"),a.fc(19,"\u2022 Driving Licence "),a.Jb(),a.Kb(20,"div"),a.fc(21,"\u2022 Aadhaar Card "),a.Jb(),a.Kb(22,"div"),a.fc(23,"\u2022 PAN Card "),a.Jb(),a.Kb(24,"div"),a.fc(25,"* Supported documents: PDF, JPG, PNG"),a.Jb(),a.Kb(26,"div"),a.fc(27,"* Please upload a passport sized photo"),a.Jb(),a.Jb(),a.Jb(),a.ec(28,f,19,0,"ion-grid",3),a.ec(29,g,32,3,"div",4),a.Jb()),2&e&&(a.xb(4),a.Zb("ngIf",t.isLoading),a.xb(24),a.Zb("ngIf",null==t.selectedFile||0==t.selectedFile.length),a.xb(1),a.Zb("ngIf",(null==t.selectedFile?null:t.selectedFile.length)>0))},directives:[n.m,n.w,n.v,o.j,n.k,n.e,n.g,n.i,n.h,n.n,n.f,n.l,n.q,n.j,n.u,o.i,n.d],styles:[".hidden[_ngcontent-%COMP%]{display:none}ion-col[_ngcontent-%COMP%]{text-align:center;font-size:40px}ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.delete-icon[_ngcontent-%COMP%]{font-size:20px;position:absolute;margin-left:-10px;top:0;color:#8b0000}.add-more-icon[_ngcontent-%COMP%], .file-icon[_ngcontent-%COMP%]{font-size:50px}ion-title[_ngcontent-%COMP%]{font-family:SFProMedium}.file-selector[_ngcontent-%COMP%]{color:#0033a1}.loader[_ngcontent-%COMP%]{position:absolute;z-index:999;--ion-background-color:transparent}.loaderImage[_ngcontent-%COMP%]{position:relative;top:35%}"]}),e})()}];let K=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(J)],c.i]}),e})(),v=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[n.x,o.b,s.a,K]]}),e})()}}]);